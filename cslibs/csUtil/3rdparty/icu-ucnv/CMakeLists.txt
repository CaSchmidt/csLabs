list(APPEND icu_FILES
  src/appendable.cpp
  src/charstr.cpp
  src/charstr.h
  src/cmemory.cpp
  src/cmemory.h
  src/cstring.cpp
  src/cstring.h
  src/cwchar.h
  src/icuplugimp.h
  src/locid.cpp
  src/locmap.cpp
  src/locmap.h
  src/mutex.h
  src/putil.cpp
  src/putilimp.h
  src/resource.cpp
  src/resource.h
  src/stringpiece.cpp
  src/uarrsort.cpp
  src/uarrsort.h
  src/uassert.h
  src/ucln.h
  src/ucln_cmn.cpp
  src/ucln_cmn.h
  src/ucln_imp.h
  src/ucmndata.cpp
  src/ucmndata.h
  src/ucnv.cpp
  src/ucnv2022.cpp
  src/ucnvbocu.cpp
  src/ucnvhz.cpp
  src/ucnvisci.cpp
  src/ucnvlat1.cpp
  src/ucnvmbcs.cpp
  src/ucnvmbcs.h
  src/ucnvscsu.cpp
  src/ucnv_bld.cpp
  src/ucnv_bld.h
  src/ucnv_cb.cpp
  src/ucnv_cnv.cpp
  src/ucnv_cnv.h
  src/ucnv_ct.cpp
  src/ucnv_err.cpp
  src/ucnv_ext.cpp
  src/ucnv_ext.h
  src/ucnv_imp.h
  src/ucnv_io.cpp
  src/ucnv_io.h
  src/ucnv_lmb.cpp
  src/ucnv_u16.cpp
  src/ucnv_u32.cpp
  src/ucnv_u7.cpp
  src/ucnv_u8.cpp
  src/ucol_data.h
  src/ucol_swp.cpp
  src/ucol_swp.h
  src/udata.cpp
  src/udatamem.cpp
  src/udatamem.h
  src/udataswp.cpp
  src/udataswp.h
  src/uelement.h
  src/uenum.cpp
  src/uenumimp.h
  src/uhash.cpp
  src/uhash.h
  src/uinit.cpp
  src/uinvchar.cpp
  src/uinvchar.h
  src/uloc.cpp
  src/ulocimp.h
  src/uloc_keytype.cpp
  src/uloc_tag.cpp
  src/umapfile.cpp
  src/umapfile.h
  src/umath.cpp
  src/umutex.cpp
  src/umutex.h
  src/unicode
  src/unistr.cpp
  src/uobject.cpp
  src/uposixdefs.h
  src/uresbund.cpp
  src/uresdata.cpp
  src/uresdata.h
  src/uresimp.h
  src/uset_imp.h
  src/ustrenum.cpp
  src/ustrenum.h
  src/ustrfmt.cpp
  src/ustrfmt.h
  src/ustring.cpp
  src/ustrtrns.cpp
  src/ustr_cnv.cpp
  src/ustr_cnv.h
  src/ustr_imp.h
  src/utf_impl.cpp
  src/utrace.cpp
  src/utracimp.h
  src/utrie.h
  src/utrie2.cpp
  src/utrie2.h
  src/utrie2_impl.h
  src/utypeinfo.h
  src/utypes.cpp
  src/uvector.cpp
  src/uvector.h
  src/wintz.cpp
  src/wintz.h
  src/unicode/appendable.h
  src/unicode/bytestream.h
  src/unicode/char16ptr.h
  src/unicode/icuplug.h
  src/unicode/localpointer.h
  src/unicode/locid.h
  src/unicode/platform.h
  src/unicode/ptypes.h
  src/unicode/putil.h
  src/unicode/rep.h
  src/unicode/std_string.h
  src/unicode/strenum.h
  src/unicode/stringoptions.h
  src/unicode/stringpiece.h
  src/unicode/uchar.h
  src/unicode/uclean.h
  src/unicode/ucnv.h
  src/unicode/ucnv_cb.h
  src/unicode/ucnv_err.h
  src/unicode/uconfig.h
  src/unicode/udata.h
  src/unicode/uenum.h
  src/unicode/uiter.h
  src/unicode/uloc.h
  src/unicode/umachine.h
  src/unicode/unistr.h
  src/unicode/uobject.h
  src/unicode/urename.h
  src/unicode/ures.h
  src/unicode/uset.h
  src/unicode/ustring.h
  src/unicode/utf.h
  src/unicode/utf16.h
  src/unicode/utf8.h
  src/unicode/utrace.h
  src/unicode/utypes.h
  src/unicode/uvernum.h
  src/unicode/uversion.h
  src-dat/icudt61l_dat.c
  )

list(APPEND icu_DEFINES
  U_COMMON_IMPLEMENTATION
  U_STATIC_IMPLEMENTATION
  )

add_library(icu OBJECT
  ${icu_FILES}
  )

if(WIN32)
  target_compile_definitions(icu PRIVATE _CRT_SECURE_NO_WARNINGS)
endif()

target_compile_definitions(icu PRIVATE ${icu_DEFINES})
target_include_directories(icu PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/src)

set(icu_DEFINES ${icu_DEFINES} PARENT_SCOPE)
